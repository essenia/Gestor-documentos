   
<div class="container mt-4">
  <!-- <button
    type="button"
    class="btn btn-outline-primary btn-sm"
    (click)="volverInicio()">
    ← Volver al inicio
  </button> -->
  <h5 class="mb-3">Lista de Clientes</h5>

  <!-- Botón Filtrar -->
  <div class="d-flex justify-content-start mb-3">
    <button class="btn btn-outline-primary btn-sm" (click)="mostrarFiltros = !mostrarFiltros">
      <i class="fas fa-filter me-1"></i> Filtros
    </button>
  </div>

  <!-- Panel de filtros -->
  <div *ngIf="mostrarFiltros" class="card shadow-sm mb-3 p-3">
    <div class="row g-3 align-items-end">
      <!-- Nombre -->
      <div class="col-12 col-md-4">
        <label class="form-label small text-muted">
          <i class="fas fa-user me-1"></i> Nombre
        </label>
        <input type="text" class="form-control form-control-sm"
          placeholder="Buscar por nombre..." [(ngModel)]="filtro.nombre" (input)="filtrarClientes()" />
      </div>

      <!-- Apellido -->
      <div class="col-12 col-md-4">
        <label class="form-label small text-muted">
          <i class="fas fa-user-tag me-1"></i> Apellido
        </label>
        <input type="text" class="form-control form-control-sm"
          placeholder="Buscar por apellido..." [(ngModel)]="filtro.apellido" (input)="filtrarClientes()" />
      </div>
      
      <!-- DNI -->
<div class="col-12 col-md-2">
  <label class="form-label small text-muted">
    <i class="fas fa-id-card me-1"></i> DNI
  </label>
  <input type="text" class="form-control form-control-sm"
    placeholder="Buscar por DNI..." [(ngModel)]="filtro.dni" (input)="filtrarClientes()" />
</div>



      <!-- Activo -->
      <div class="col-12 col-md-2">
        <label class="form-label small text-muted">
          <i class="fas fa-check-circle me-1"></i> Activo
        </label>
        <select class="form-select form-select-sm" [(ngModel)]="filtro.activo" (change)="filtrarClientes()">
          <option value="">Todos</option>
          <option [value]="true">Sí</option>
          <option [value]="false">No</option>
        </select>
      </div>

      <!-- Limpiar filtros -->
      <div class="col-12 col-md-2 text-md-end">
        <button class="btn btn-outline-secondary btn-sm w-100 w-md-auto" (click)="limpiarFiltros()">
          <i class="fas fa-times me-1"></i> Limpiar
        </button>
      </div>
    </div>
  </div>

  <!-- Buscador rápido + Agregar Cliente -->
  <div class="row mb-3 g-2 align-items-center">
    <div class="col-12 col-md-6">
      <div class="input-group input-group-sm w-100">
        <span class="input-group-text"><i class="fas fa-search"></i></span>
        <input type="text" class="form-control" placeholder="Buscar rápido..."
          [(ngModel)]="textoBuscar" (input)="buscarClientes()" />
      </div>
    </div>

    <div class="col-12 col-md-6 text-md-end">
      <button class="btn btn-info btn-sm w-80 w-md-auto" (click)="router.navigate(['/clientes/add'])">
        <i class="fas fa-plus me-1"></i> Agregar Cliente
      </button>
    </div>
  </div>

  <!-- Spinner -->
  <div *ngIf="loading" class="text-center my-3">
    <div class="spinner-border text-primary"></div>
  </div>

  <!-- Tabla de clientes -->
  <div class="table-responsive" *ngIf="!loading && paginatedClientes.length">
    <table class="table table-hover table-bordered table-striped align-middle text-center">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>DNI</th>
          <th>Tipo DNI</th>
          <th>Teléfono</th>
          <th>Dirección</th>
          <th>Notas</th>
          <th>Activo</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- <tr *ngFor="let cliente of paginatedClientes"> -->
            <tr *ngFor="let cliente of paginatedClientes" [class.table-secondary]="!cliente.activo">

          <td>{{ cliente.id }}</td>
          <td>{{ cliente.nombre }}</td>
          <td>{{ cliente.apellido }}</td>
          <td>{{ cliente.dni }}</td>
          <td>{{ cliente.tipo_dni }}</td>
          <td>{{ cliente.telefono }}</td>
          <td>{{ cliente.direccion }}</td>
          <td>{{ cliente.notas_internas }}</td>
          <td>{{ cliente.activo ? 'Sí' : 'No' }}</td>
          <td>
            <div class="d-flex flex-column flex-sm-row gap-1 align-items-center">
              <button class="btn btn-info btn-sm w-100 w-sm-auto" title="Ver Cliente" (click)="viewCliente(cliente)">
                <i class="fas fa-eye"></i>
              </button>
              <button class="btn btn-warning btn-sm w-100 w-sm-auto" title="Editar Cliente"
                (click)="router.navigate(['/clientes/editar', cliente.id])">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn btn-danger btn-sm w-100 w-sm-auto" title="Eliminar Cliente"  (click)="deleteCliente(cliente)">
                <i class="fas fa-trash-alt"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>



    <div class="container mt-4">
  <!-- Aquí va todo tu HTML actual: filtros, buscador, tabla, paginación -->

  <!-- Modal Cliente -->
  <div class="modal-backdrop fade show" *ngIf="mostrarModal"></div>
  <div class="modal d-block" tabindex="-1" *ngIf="mostrarModal">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Detalles del Cliente</h5>
          <button type="button" class="btn-close" (click)="cerrarModal()"></button>
        </div>
        <div class="modal-body" *ngIf="selectedCliente">
          <div class="row">
            <div class="col-md-6"><strong>Nombre:</strong> {{ selectedCliente.nombre }}</div>
            <div class="col-md-6"><strong>Apellido:</strong> {{ selectedCliente.apellido }}</div>
            <div class="col-md-6"><strong>DNI:</strong> {{ selectedCliente.dni }}</div>
            <div class="col-md-6"><strong>Tipo DNI:</strong> {{ selectedCliente.tipo_dni }}</div>
            <div class="col-md-6"><strong>Teléfono:</strong> {{ selectedCliente.telefono }}</div>
            <div class="col-md-6"><strong>Activo:</strong> {{ selectedCliente.activo ? 'Sí' : 'No' }}</div>
            <div class="col-12"><strong>Dirección:</strong> {{ selectedCliente.direccion }}</div>
            <div class="col-12"><strong>Notas:</strong> {{ selectedCliente.notas_internas }}</div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary btn-sm" (click)="cerrarModal()">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
</div>

  </div>

  <!-- Mensaje si no hay clientes -->
  <div *ngIf="!loading && !clientesFiltrados.length" class="text-center mt-3 text-muted">
    No se encontraron clientes
  </div>

  <!-- Paginación -->
  <nav *ngIf="totalPages > 1">
    <ul class="pagination pagination-sm justify-content-center mt-3 flex-wrap">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" href="#" (click)="$event.preventDefault(); prevPage($event)">
          <i class="fas fa-chevron-left"></i> Previous
        </a>
      </li>

      <li class="page-item" *ngFor="let page of pages" [class.active]="page === currentPage">
        <a class="page-link" href="#" (click)="$event.preventDefault(); goToPage(page, $event)">
          {{ page }}
        </a>
      </li>

      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a class="page-link" href="#" (click)="$event.preventDefault(); nextPage($event)">
          Next <i class="fas fa-chevron-right"></i>
        </a>
      </li>
    </ul>
  </nav>


</div>

<!-- Scroll Button -->
<button
  class="scroll-btn"
  *ngIf="showScrollButton"
  (click)="scrollAction()">

  <i class="fas" [ngClass]="isAtBottom ? 'fa-arrow-up' : 'fa-arrow-down'"></i>

</button>


